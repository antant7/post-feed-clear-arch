# REST API ленты постов
Исходное задание: Есть база данных. В ней несколько тысяч постов. У каждого поста есть дата создания, заголовок, содержимое и хотнесс. Должны быть ручки для: 

1) Показа ленты постов. По умолчанию сортировка по хотнессу. Из ленты должны исключаться посты, которые пользователь уже видел, а также посты, которые были показаны пользователям более 1000 раз. 
2) Обработки запроса о том, что пользователь просмотрел (пролистал в ленте) тот или иной пост. 

## API Endpoints

- `GET /api/posts` - получить ленту постов
- `POST /api/posts/view` - отметить пост как просмотренный

## Комментарии к проекту
- фронтенд для тестирования проекта - test.html
- специально сделано на native PHP для демонстрации принципов ЧС и частично SOLID
- В классах Request и Response используются статическими методы чтобы не засорять проект лишними DI, для прода надо использовать библиотеки типа PHP-DI (с Dependency Injection) или фреймворки Symfony, Laravel, Slim.
- макс. лимит на разовый запрос - 100 постов
- структура таблицы posts выровнена для уменьшения дискового пространства

## Необходимые оптимизации
- на фронте - сделать отправку просмотренных постов не по одному, а по несколько id (например, накапливать в store) и раз в несколько секунд, а также при закрытии страницы одним запросом отправлять на бекенд.
- на бекенде - кешировать входящие post_id + rest_id (например в Redis) и кроном раз в несколько секунд отправлять батчами в БД. В таком случае возможно небольшое проскальзывание данных (повторный показ поста если юзер часто обновляет ленту), но это не должно быть критично.

## Установка проекта
1. Укажите данные подключения к БД Postgres в файле ```config/database.php```.

2. Запустите скрипт setup/setup.php для создания БД, таблиц и генерации рыбных данных. БД будет создана автоматически, если у указанного логина есть права на ```CREATE TABLE```
```bash
# В корневой папке проекта
php setup/setup.php
```

## Запуск проекта

1. Для запуска проекта используйте встроенный PHP сервер:

```bash
# Из корневой папки проекта
php -S localhost:8000 -t public
```
После запуска сервер будет доступен по адресу: http://localhost:8000 или http://127.0.0.1:8000

2. Откройте в любом браузере test.html, укажите в нем адрес сервера (если отличается от http://localhost:8000)
